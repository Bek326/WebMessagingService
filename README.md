# Web Messaging Service

## Описание

Этот проект представляет собой простой веб-сервис обмена сообщениями, состоящий из трех компонентов:

- **Web-сервер**: Обрабатывает запросы на отправку сообщений и предоставляет API для получения сообщений за последние 10 минут.
- **SQL БД (PostgreSQL)**: Хранит сообщения.
- **3 клиента**:
  - **Клиент 1**: Отправляет сообщения в веб-сервис.
  - **Клиент 2**: Отображает сообщения в реальном времени через веб-сокеты.
  - **Клиент 3**: Позволяет просматривать историю сообщений за последние 10 минут.

## Стек технологий

- **Backend**: C#
- **Frontend**: C#
- **База данных**: PostgreSQL
- **Контейнеризация**: Docker, Docker Compose

## Структура проекта

- `WebMessagingService/` - Исходный код и конфигурация веб-сервера.
- `client1/` - Исходный код и конфигурация первого клиента.
- `client2/` - Исходный код и конфигурация второго клиента.
- `client3/` - Исходный код и конфигурация третьего клиента.
- `docker-compose.yml` - Конфигурация для запуска всех компонентов системы в Docker-контейнерах.

## Запуск проекта

Для запуска проекта выполните следующие шаги:

### 1. Убедитесь, что у вас установлен Docker и Docker Compose.

- [Установка Docker](https://docs.docker.com/get-docker/)
- [Установка Docker Compose](https://docs.docker.com/compose/install/)

### 2. Проверьте конфигурацию `docker-compose.yml`.

Убедитесь, что файл `docker-compose.yml` настроен правильно и указывает на правильные пути и настройки для ваших сервисов.

### 3. Соберите Docker-образы.

Откройте командную строку и выполните команду:

```bash
docker-compose build

### 4. Запустите Docker-контейнеры.
После успешной сборки выполните команду:

docker-compose up

Эта команда запустит все сервисы и контейнеры, описанные в docker-compose.yml.

### 5. Доступ к приложениям.
После запуска вы сможете получить доступ к следующим приложениям:

Web-сервер: http://localhost:5135
Клиент 1: http://localhost:5001
Клиент 2: http://localhost:5002
Клиент 3: http://localhost:5003

### 6. Использование приложения.
Клиент 1: Введите сообщение и отправьте его через веб-интерфейс.
Клиент 2: Отображает сообщения, отправленные через Клиент 1, в реальном времени.
Клиент 3: Позволяет просматривать историю сообщений за последние 10 минут.
Документация API
POST /api/Messages
Отправляет одно сообщение.

Параметры запроса:

text (string): Текст сообщения (до 128 символов).
sequenceNumber (integer): Порядковый номер сообщения.

Пример запроса:
curl -X POST "http://localhost:5135/api/Messages" -H "Content-Type: application/json" -d '{"text": "Hello", "sequenceNumber": 1}'

GET /api/Messages/history
Получает список сообщений за диапазон дат.

Параметры запроса:

from (string): Начальная дата/время (формат: yyyy-MM-ddTHH:mm:ssZ).
to (string): Конечная дата/время (формат: yyyy-MM-ddTHH:mm:ssZ).

Пример запроса:
curl "http://localhost:5135/api/Messages/history?from=2024-08-28T08:46:08Z&to=2024-08-28T08:56:08Z"

Логирование
Логи приложения ведутся для отслеживания состояния работы и ошибок. Логи можно просматривать через стандартный вывод Docker-контейнеров.

Примечания
Дизайн интерфейсов не является критичным для выполнения данного задания.
Убедитесь, что все компоненты корректно связаны и работают совместно.

Лицензия
Этот проект лицензирован на условиях MIT License. Смотрите LICENSE для подробностей.

Этот `README.md` файл включает описание проекта, инструкции по сборке и запуску, а также примеры использования API. Убедитесь, что вы настроили ваши пути и конфигурации в соответствии с вашим проектом.
